<div *ngIf="addcards == false">
    <app-header></app-header>
    <section class="section section-content py-5">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div class="heading">
                        <h3>Deck Details</h3>
                        <a (click)="addModel.show(); deck = {}" class="btn btn-primary float-right">+ Create New Deck</a
            >
          </div>
          <div class="card">
            <div class="card-body">
              <!-- <table id="example" class="table table-striped table-bordered" style="width:100%" class="table table-striped" [mfData]="deckList |  filterQuery" #mf="mfDataTable" [mfRowsOnPage]="10"> -->
              <table
                class="table"
                [mfData]="deckList | dataFilter: filterQuery"
                #mf="mfDataTable"
                [mfRowsOnPage]="5"
              >
                <thead>
                  <tr>
                    <th>Deck Name</th>
                    <th>Description</th>
                    <!-- <th>Permission</th>
                                    <th>url_slug</th> -->
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of mf.data; let i = index">
                    <!-- {{item | json}} -->
                    <td>{{ item.name }}</td>
                    <td>{{ item.description }}</td>
                    <!-- <td>{{item.permission}}</td>
                                    <td>{{item.url_slug}}</td> -->
                    <!-- <td>{{item.birthdate | date: "dd/MM/yyyy"}}</td> -->

                    <td>
                      <div class="action-buttons">
                        <a
                          href="#"
                          data-toggle="modal"
                          (click)="openDeckModel(item); addModel.show()"
                          class="btn btn-success"
                          ><span class="mdi mdi-lead-pencil"></span
                        ></a>
                        <a href="#" data-toggle="modal" (click)="deleteDeck(); openDeckModel(item)" class="btn btn-danger"><span class="mdi mdi-close"></span
                        ></a>
                    </div>
                    <button type="button" class="btn btn-primary" (click)="addcard(); openDeckModel(item)">
                        AddCard
                      </button>
                    </td>
                    <td>
                        <button type="button" (click)="ShowModel.show();cardDetails(item);" data-toggle="modal" data-target="#editModal" data-backdrop="static" data-keyboard="false" class="btn btn-info">
                          <i class="fa fa-eye" aria-hidden="true"></i>
                                          </button>
                    </td>

                    <!-- <td>
                                        <a [routerLink]="[item.username+'/contact']">Go to details</a>
                                    </td> -->
                    </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="7">
                                <mfBootstrapPaginator [rowsOnPageSet]="[5, 10, 15]">
                                </mfBootstrapPaginator>
                            </td>
                        </tr>
                    </tfoot>
                    </table>
                </div>
            </div>
        </div>
</div>
</div>
</section>
</div>

<div bsModal #addModel="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header appoint-head-color">
                <h4 class="modal-title appoint-color" *ngIf="deck.id == null">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i>Create Deck
                </h4>
                <h4 class="modal-title appoint-color" *ngIf="deck.id != null">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>Update Deck
                </h4>
                <button type="button" class="close" (click)="addModel.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="name"> Deck Name</label>
                                <input class="form-control" id="name" type="text" [(ngModel)]="deck.name" #name="ngModel" name="name" placeholder="Enter your Deck Name" />

                                <label for="name">Description</label>
                                <input class="form-control" id="name" type="text" [(ngModel)]="deck.description" #description="ngModel" name="description" placeholder="Enter description" />

                                <!-- <div class="form-group">
                                    <label for="select1">Select your Permission</label>
                                    <fieldset class="form-group">
                                        <ng-select name="permission" [(ngModel)]="course.permission" #permission="ngModel" placeholder="Select your permission" [options]="type" [allowClear]="true"></ng-select>
                                    </fieldset>
                                </div> -->

                                <!-- <label for="name">url_slug</label>
                                <input class="form-control" id="name" type="text" [(ngModel)]="course.url_slug" #url_slug="ngModel" name="url_slug" placeholder="Enter url_slug"> -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="addModel.hide()">
            Close
          </button>
                    <button type="button" class="btn btn-primary" *ngIf="deck.id == null" (click)="AddDeck(); addModel.hide()">
            Save
          </button>
                    <button type="button" (click)="updateDeck(); addModel.hide()" *ngIf="deck.id != null" class="btn btn-primary">
            Update Deck
          </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="addcards == true">
    <!-- <app-header></app-header> -->

    <section class="section section-content py-5">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div class="heading">
                        <h3>Flashcards in “{{ deck.name }}”</h3>
                        <a (click)="addcards = false" class="btn btn-primary float-right"><span class="mdi mdi-arrow-left"></span> Back</a
            >

            <a (click)="editorModel.show()" class="btn btn-primary float-right"
              ><span class="fa fa-random"></span> Switch to Advance Editor</a
            >
          </div>
          <div class="card">
            <div class="card-body">
              <!-- <div class="row"> -->

              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>Question</label>
                    <!-- <input type="text" [(ngModel)]="card.side1" #side1="ngModel" name="side1" placeholder="Please enter Question" class="form-control"/> <button type="submit"><i class="fa fa-search"></i></button>
                    <button type="submit"><i class="fa fa-search"></i></button> -->
                    <form class="example"  style="margin:auto;max-width:300px">
                        <input type="text" [(ngModel)]="card.side1" #side1="ngModel" name="side1" placeholder="Please enter Question" class="form-control"/>
                      <button (click)="data(card.side1);editorModel.show()" type="submit"><i>add</i></button>
                      <div markdown [data]="markdownText"></div>
                    </form>
                </div>
                <!-- <p>Centered inside a form with max-width:</p> -->

                </div>
                <div class="col-sm-4">
                  <div class="form-group">
                    <label>Answer</label>

                    <form class="example"  style="margin:auto;max-width:300px">
                        <input type="text" [(ngModel)]="card.side2" #side1="ngModel" name="side2" placeholder="Please  enter Answer" class="form-control"/>
                        
                        <button (click)="editorModel.show()" type="submit"><i>add</i></button>
                    </form>
                   
                  </div>
                </div>
                <div class="text-left">
                  <button
                    class="btn btn-primary"
                    (click)="addCardslist($event)"
                  >
                    Add Card
                  </button>
                </div>
              </div>

              <div *ngFor="let item of cards; let i = index">
                <div class="row">
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label>Question</label>
                      <input type="text" [(ngModel)]="card.side1" #side1="ngModel" name="side1" placeholder="Please enter Question" class="form-control"/>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group">
                      <label>Answer</label>
                      <input type="text" [(ngModel)]="card.side2" #side1="ngModel" name="side2" placeholder="Please  enter Answer" class="form-control"/>
                    </div>
                  </div>

                  <div class="col-sm-4">
                    <div class="form-group">
                      <label></label>
                      <div class="action-buttons text-left">
                        <a
                          href="#"
                          data-toggle="modal"
                          (click)="removeCard(item)"
                          class="btn btn-danger"
                          ><span class="mdi mdi-close"></span
                        ></a>
                    </div>
                </div>
            </div>
        </div>
</div>


<!-- </div> -->
<div class="text-left">
    <button class="btn btn-primary" (click)="AddCard()">Save Card</button>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</div>

<div bsModal #editorModel="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" style="width: 1000px;">
            <div class="modal-header appoint-head-color">
                <h4 class="modal-title appoint-color">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i> Editors
                </h4>
                <button type="button" class="close" (click)="editorModel.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <!-- <div class="form-group">
                                <header class="header">
                                    <h1>WYSIWYG editor</h1>
                                    <p>Native WYSIWYG editor for Angular 6+</p>
                                </header>
                                <angular-editor [(ngModel)]="htmlContent" [config]="config"></angular-editor>
                                <h5 class="html-header">HTML Output</h5>
                                <div class="html">
                                    {{ htmlContent }}
                                </div>
                                <button type="button" class="btn btn-info float-right" (click)="sendData()">
                  Submit
                </button>
                            </div> -->

                            <div class="form-group">
                                <header class="header">
                                    <h1>Markdown editor</h1>
                                    <!-- <p>Native WYSIWYG editor for Angular 6+</p> -->
                                </header>

                                <div class="row">
                                    <div class="col-md-6 action-buttons">
                                        <button class="btn btn-info " (click)="showFullScreen(true)">
                      Full Screen Preview
                    </button>
                                    </div>
                                </div>
                                <hr />

                                <form [formGroup]="templateForm" novalidate>
                                    <div class="editor">
                                        <label>Editor</label>
                                        <angular-markdown-editor textareaId="editor1" [(ngModel)]="markdownText" [options]="editorOptions" rows="12" formControlName="body">
                                        </angular-markdown-editor>
                                    </div>
                                </form>

                                <hr />
                                <h3 class="text-success bold">Preview</h3>
                                <div class="result-preview outline">
                                    <markdown [data]="markdownText"></markdown>
                                    <textarea [(ngModel)]="markdownText"></textarea>
                                    <!-- <div [(ngModel)]="markdownText"></div> -->
                                    <div markdown [data]="markdownText"></div>

                                </div>
                                <button type="button" class="btn btn-info float-right" (click)="sendMarkData()">
                  Submit
                </button>
                            </div>

                            <!-- <div class="form-group">
                                <header class="header">
                                    <h1>CK editor</h1> -->
                            <!-- <p>Native WYSIWYG editor for Angular 6+</p> -->
                            <!-- </header>
                                <form [formGroup]="form" (ngSubmit)="onSubmit()" #demoForm="ngForm"> -->
                            <!-- <h3>User profile form</h3> -->

                            <!-- <div>
                                                <label for="name">Name</label>
                                                <input formControlName="name" type="text" name="name" id="name">
                                            </div>
                                        
                                            <div>
                                                <label for="surname">Surname</label>
                                                <input formControlName="surname" type="text" name="surname" id="surname">
                                            </div> -->

                            <!-- <label for="description">Description</label>
                                    <ckeditor formControlName="description" [editor]="Editor" [config]="config" id="description" name="description">
                                    </ckeditor>

                                    <p *ngIf="description?.dirty" class="alert">
                                        Description is "dirty".
                                    </p>
                                    <p *ngIf="description?.touched" class="alert">
                                        Description has been "touched".
                                    </p>

                                    <p>
                                        <button type="reset" (click)="reset()">Reset form</button>
                                    </p> -->
                            <!-- <p><button type="submit">Submit this form</button> <em>(Open the console first)</em></p> -->
                            <!-- <button type="submit" class="btn btn-info float-right">
                    Submit
                  </button>
                                </form> -->

                            <!-- <h3>Form data preview</h3>
                                <pre style="width: 100%; overflow: auto;">{{
                  form.value | json
                }}</pre>
                            </div> -->
                            <!-- <div class="form-group">
                                <label for="name"> Course Name</label>
                                <input class="form-control" id="name" type="text" [(ngModel)]="course.name" #name="ngModel" name="name" placeholder="Enter your Course">

                                <label for="name">Description</label>
                                <input class="form-control" id="name" type="text" [(ngModel)]="course.description" #description="ngModel" name="description" placeholder="Enter description">

                                <div class="form-group">
                                    <label for="select1">Select your Permission</label>
                                    <fieldset class="form-group">
                                        <ng-select name="permission" [(ngModel)]="course.permission" #permission="ngModel" placeholder="Select your permission" [options]="type" [allowClear]="true"></ng-select>
                                    </fieldset>
                                </div>

                                <label for="name">url_slug</label>
                                <input class="form-control" id="name" type="text" [(ngModel)]="course.url_slug" #url_slug="ngModel" name="url_slug" placeholder="Enter url_slug">
                            </div> -->
                            <!-- </div> -->
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" (click)="editorModel.hide()">
            Close
          </button>
                        <button type="button" class="btn btn-primary" (click)="AddCourse(); editorModel.hide()">
            Save
          </button>
                    </div>
                </div>
            </div>
        </div>
    </div>








    <div bsModal #ShowModel="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header appoint-head-color">
                    <!-- <h4 class="modal-title appoint-color" *ngIf="deck.id == null">
                    <i class="fa fa-plus-circle" aria-hidden="true"></i>Create Deck
                </h4>
                <h4 class="modal-title appoint-color" *ngIf="deck.id != null">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>Update Deck
                </h4> -->
                    <button type="button" class="close" (click)="ShowModel.hide()" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
                </div>
                <div class="modal-body">
                    <div class="card-body">
                        <div class="row" *ngFor="let item of deckbycardList; let i = index">
                            <div class="col-sm-12 col-md-12">
                                <!-- Card -->
                                <div class="card-deck">
                                    <div class="card-accent-info">
                                        <!-- Card image -->
                                        <!-- <div class="view overlay">
                                    <img class="card-img-top" src="https://mdbootstrap.com/img/Mockups/Lightbox/Thumbnail/img%20(67).jpg" alt="Card image cap">
                                    <a href="#!">
                                        <div class="mask rgba-white-slight"></div>
                                    </a>
                                </div> -->
                                        <!-- Card content -->
                                        <div class="card-body-deck" *ngIf="!ap">
                                            <!-- Title -->
                                            <h4 class="card-title">{{item.side1}}</h4>
                                            <!-- Text -->
                                            <p class="card-text"> </p>
                                            <!-- Button -->

                                        </div>
                                        <div class="card-body-deck" *ngIf="ap">
                                            <!-- Title -->
                                            <h4 class="card-title">{{item.side2}}</h4>
                                            <!-- Text -->
                                            <p class="card-text"> </p>
                                            <!-- Button -->

                                        </div>

                                    </div>
                                </div>
                                <!-- Card -->

                                <!-- Card -->
                                <div class="btn-content modal-content">
                                    <a *ngIf="!ap" class="btn btn-primary" (click)="addanswer();">Show Answer</a>
                                    <a *ngIf="ap" class="btn btn-primary" (click)="addanswer();">show Question</a>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>